"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/generate/route";
exports.ids = ["app/api/generate/route"];
exports.modules = {

/***/ "jsdom":
/*!************************!*\
  !*** external "jsdom" ***!
  \************************/
/***/ ((module) => {

module.exports = require("jsdom");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=%2FUsers%2Fglover-sanders.ezra%2FDesktop%2Fmcq-generator%20copy%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fglover-sanders.ezra%2FDesktop%2Fmcq-generator%20copy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=%2FUsers%2Fglover-sanders.ezra%2FDesktop%2Fmcq-generator%20copy%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fglover-sanders.ezra%2FDesktop%2Fmcq-generator%20copy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_glover_sanders_ezra_Desktop_mcq_generator_copy_src_app_api_generate_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/generate/route.ts */ \"(rsc)/./src/app/api/generate/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/generate/route\",\n        pathname: \"/api/generate\",\n        filename: \"route\",\n        bundlePath: \"app/api/generate/route\"\n    },\n    resolvedPagePath: \"/Users/glover-sanders.ezra/Desktop/mcq-generator copy/src/app/api/generate/route.ts\",\n    nextConfigOutput,\n    userland: _Users_glover_sanders_ezra_Desktop_mcq_generator_copy_src_app_api_generate_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/generate/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZnZW5lcmF0ZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZ2VuZXJhdGUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZnZW5lcmF0ZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmdsb3Zlci1zYW5kZXJzLmV6cmElMkZEZXNrdG9wJTJGbWNxLWdlbmVyYXRvciUyMGNvcHklMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGZ2xvdmVyLXNhbmRlcnMuZXpyYSUyRkRlc2t0b3AlMkZtY3EtZ2VuZXJhdG9yJTIwY29weSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDbUM7QUFDaEg7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tY3EtZ2VuZXJhdG9yLz8yNTNiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9nbG92ZXItc2FuZGVycy5lenJhL0Rlc2t0b3AvbWNxLWdlbmVyYXRvciBjb3B5L3NyYy9hcHAvYXBpL2dlbmVyYXRlL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9nZW5lcmF0ZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2dlbmVyYXRlXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9nZW5lcmF0ZS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9nbG92ZXItc2FuZGVycy5lenJhL0Rlc2t0b3AvbWNxLWdlbmVyYXRvciBjb3B5L3NyYy9hcHAvYXBpL2dlbmVyYXRlL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9nZW5lcmF0ZS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=%2FUsers%2Fglover-sanders.ezra%2FDesktop%2Fmcq-generator%20copy%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fglover-sanders.ezra%2FDesktop%2Fmcq-generator%20copy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/generate/route.ts":
/*!***************************************!*\
  !*** ./src/app/api/generate/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_content__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/content */ \"(rsc)/./src/lib/content.ts\");\n/* harmony import */ var _lib_generation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/generation */ \"(rsc)/./src/lib/generation.ts\");\n/* harmony import */ var _lib_scrape__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/scrape */ \"(rsc)/./src/lib/scrape.ts\");\n/* harmony import */ var _lib_validation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/validation */ \"(rsc)/./src/lib/validation.ts\");\n\n\n\n\n\nconst runtime = \"nodejs\";\nasync function POST(request) {\n    try {\n        const json = await request.json();\n        const parsed = _lib_validation__WEBPACK_IMPORTED_MODULE_4__.generatePayloadSchema.safeParse(json);\n        if (!parsed.success) {\n            const fieldErrors = parsed.error.flatten().fieldErrors;\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid request\",\n                details: fieldErrors\n            }, {\n                status: 400\n            });\n        }\n        if (!process.env.OPENAI_API_KEY) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Server missing OpenAI credentials. Set OPENAI_API_KEY on the server.\"\n            }, {\n                status: 500\n            });\n        }\n        const { notes, url, subject, difficulty, questionCount, enrichBeyondNotes } = parsed.data;\n        let urlText;\n        let urlTitle;\n        if (url) {\n            try {\n                const article = await (0,_lib_scrape__WEBPACK_IMPORTED_MODULE_3__.extractReadableText)(url);\n                urlText = article.text;\n                urlTitle = article.title;\n            } catch  {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Unable to extract content from the provided URL.\"\n                }, {\n                    status: 400\n                });\n            }\n        }\n        const sourceText = (0,_lib_content__WEBPACK_IMPORTED_MODULE_1__.buildSourceText)({\n            notes,\n            urlText,\n            urlTitle\n        });\n        if (!sourceText) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Nothing to analyze. Please provide notes or a URL that contains readable text.\"\n            }, {\n                status: 400\n            });\n        }\n        const questions = await (0,_lib_generation__WEBPACK_IMPORTED_MODULE_2__.generateQuestionsFromSource)({\n            sourceText,\n            settings: {\n                subject,\n                difficulty,\n                questionCount,\n                enrichBeyondNotes\n            }\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            questions,\n            meta: {\n                sourceTitle: urlTitle ?? null,\n                usedUrl: Boolean(url)\n            }\n        });\n    } catch (error) {\n        console.error(\"/api/generate error\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Unexpected error while generating questions.\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9nZW5lcmF0ZS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTJDO0FBRUs7QUFDZTtBQUNaO0FBQ007QUFFbEQsTUFBTUssVUFBVSxTQUFTO0FBRXpCLGVBQWVDLEtBQUtDLE9BQWdCO0lBQ3pDLElBQUk7UUFDRixNQUFNQyxPQUFPLE1BQU1ELFFBQVFDLElBQUk7UUFDL0IsTUFBTUMsU0FBU0wsa0VBQXFCQSxDQUFDTSxTQUFTLENBQUNGO1FBRS9DLElBQUksQ0FBQ0MsT0FBT0UsT0FBTyxFQUFFO1lBQ25CLE1BQU1DLGNBQWNILE9BQU9JLEtBQUssQ0FBQ0MsT0FBTyxHQUFHRixXQUFXO1lBQ3RELE9BQU9aLHFEQUFZQSxDQUFDUSxJQUFJLENBQ3RCO2dCQUNFSyxPQUFPO2dCQUNQRSxTQUFTSDtZQUNYLEdBQ0E7Z0JBQUVJLFFBQVE7WUFBSTtRQUVsQjtRQUVBLElBQUksQ0FBQ0MsUUFBUUMsR0FBRyxDQUFDQyxjQUFjLEVBQUU7WUFDL0IsT0FBT25CLHFEQUFZQSxDQUFDUSxJQUFJLENBQ3RCO2dCQUNFSyxPQUFPO1lBQ1QsR0FDQTtnQkFBRUcsUUFBUTtZQUFJO1FBRWxCO1FBRUEsTUFBTSxFQUFFSSxLQUFLLEVBQUVDLEdBQUcsRUFBRUMsT0FBTyxFQUFFQyxVQUFVLEVBQUVDLGFBQWEsRUFBRUMsaUJBQWlCLEVBQUUsR0FDekVoQixPQUFPaUIsSUFBSTtRQUViLElBQUlDO1FBQ0osSUFBSUM7UUFFSixJQUFJUCxLQUFLO1lBQ1AsSUFBSTtnQkFDRixNQUFNUSxVQUFVLE1BQU0xQixnRUFBbUJBLENBQUNrQjtnQkFDMUNNLFVBQVVFLFFBQVFDLElBQUk7Z0JBQ3RCRixXQUFXQyxRQUFRRSxLQUFLO1lBQzFCLEVBQUUsT0FBTTtnQkFDTixPQUFPL0IscURBQVlBLENBQUNRLElBQUksQ0FDdEI7b0JBQ0VLLE9BQU87Z0JBQ1QsR0FDQTtvQkFBRUcsUUFBUTtnQkFBSTtZQUVsQjtRQUNGO1FBRUEsTUFBTWdCLGFBQWEvQiw2REFBZUEsQ0FBQztZQUFFbUI7WUFBT087WUFBU0M7UUFBUztRQUU5RCxJQUFJLENBQUNJLFlBQVk7WUFDZixPQUFPaEMscURBQVlBLENBQUNRLElBQUksQ0FDdEI7Z0JBQ0VLLE9BQ0U7WUFDSixHQUNBO2dCQUFFRyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxNQUFNaUIsWUFBWSxNQUFNL0IsNEVBQTJCQSxDQUFDO1lBQ2xEOEI7WUFDQUUsVUFBVTtnQkFDUlo7Z0JBQ0FDO2dCQUNBQztnQkFDQUM7WUFDRjtRQUNGO1FBRUEsT0FBT3pCLHFEQUFZQSxDQUFDUSxJQUFJLENBQUM7WUFDdkJ5QjtZQUNBRSxNQUFNO2dCQUNKQyxhQUFhUixZQUFZO2dCQUN6QlMsU0FBU0MsUUFBUWpCO1lBQ25CO1FBQ0Y7SUFDRixFQUFFLE9BQU9SLE9BQU87UUFDZDBCLFFBQVExQixLQUFLLENBQUMsdUJBQXVCQTtRQUNyQyxPQUFPYixxREFBWUEsQ0FBQ1EsSUFBSSxDQUN0QjtZQUNFSyxPQUFPO1FBQ1QsR0FDQTtZQUFFRyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL21jcS1nZW5lcmF0b3IvLi9zcmMvYXBwL2FwaS9nZW5lcmF0ZS9yb3V0ZS50cz85MWRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuXG5pbXBvcnQgeyBidWlsZFNvdXJjZVRleHQgfSBmcm9tIFwiQC9saWIvY29udGVudFwiO1xuaW1wb3J0IHsgZ2VuZXJhdGVRdWVzdGlvbnNGcm9tU291cmNlIH0gZnJvbSBcIkAvbGliL2dlbmVyYXRpb25cIjtcbmltcG9ydCB7IGV4dHJhY3RSZWFkYWJsZVRleHQgfSBmcm9tIFwiQC9saWIvc2NyYXBlXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZVBheWxvYWRTY2hlbWEgfSBmcm9tIFwiQC9saWIvdmFsaWRhdGlvblwiO1xuXG5leHBvcnQgY29uc3QgcnVudGltZSA9IFwibm9kZWpzXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBqc29uID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgY29uc3QgcGFyc2VkID0gZ2VuZXJhdGVQYXlsb2FkU2NoZW1hLnNhZmVQYXJzZShqc29uKTtcblxuICAgIGlmICghcGFyc2VkLnN1Y2Nlc3MpIHtcbiAgICAgIGNvbnN0IGZpZWxkRXJyb3JzID0gcGFyc2VkLmVycm9yLmZsYXR0ZW4oKS5maWVsZEVycm9ycztcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAge1xuICAgICAgICAgIGVycm9yOiBcIkludmFsaWQgcmVxdWVzdFwiLFxuICAgICAgICAgIGRldGFpbHM6IGZpZWxkRXJyb3JzLFxuICAgICAgICB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFwcm9jZXNzLmVudi5PUEVOQUlfQVBJX0tFWSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7XG4gICAgICAgICAgZXJyb3I6IFwiU2VydmVyIG1pc3NpbmcgT3BlbkFJIGNyZWRlbnRpYWxzLiBTZXQgT1BFTkFJX0FQSV9LRVkgb24gdGhlIHNlcnZlci5cIixcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHsgbm90ZXMsIHVybCwgc3ViamVjdCwgZGlmZmljdWx0eSwgcXVlc3Rpb25Db3VudCwgZW5yaWNoQmV5b25kTm90ZXMgfSA9XG4gICAgICBwYXJzZWQuZGF0YTtcblxuICAgIGxldCB1cmxUZXh0OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgbGV0IHVybFRpdGxlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgICBpZiAodXJsKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBhcnRpY2xlID0gYXdhaXQgZXh0cmFjdFJlYWRhYmxlVGV4dCh1cmwpO1xuICAgICAgICB1cmxUZXh0ID0gYXJ0aWNsZS50ZXh0O1xuICAgICAgICB1cmxUaXRsZSA9IGFydGljbGUudGl0bGU7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yOiBcIlVuYWJsZSB0byBleHRyYWN0IGNvbnRlbnQgZnJvbSB0aGUgcHJvdmlkZWQgVVJMLlwiLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgc291cmNlVGV4dCA9IGJ1aWxkU291cmNlVGV4dCh7IG5vdGVzLCB1cmxUZXh0LCB1cmxUaXRsZSB9KTtcblxuICAgIGlmICghc291cmNlVGV4dCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7XG4gICAgICAgICAgZXJyb3I6XG4gICAgICAgICAgICBcIk5vdGhpbmcgdG8gYW5hbHl6ZS4gUGxlYXNlIHByb3ZpZGUgbm90ZXMgb3IgYSBVUkwgdGhhdCBjb250YWlucyByZWFkYWJsZSB0ZXh0LlwiLFxuICAgICAgICB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgcXVlc3Rpb25zID0gYXdhaXQgZ2VuZXJhdGVRdWVzdGlvbnNGcm9tU291cmNlKHtcbiAgICAgIHNvdXJjZVRleHQsXG4gICAgICBzZXR0aW5nczoge1xuICAgICAgICBzdWJqZWN0LFxuICAgICAgICBkaWZmaWN1bHR5LFxuICAgICAgICBxdWVzdGlvbkNvdW50LFxuICAgICAgICBlbnJpY2hCZXlvbmROb3RlcyxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgcXVlc3Rpb25zLFxuICAgICAgbWV0YToge1xuICAgICAgICBzb3VyY2VUaXRsZTogdXJsVGl0bGUgPz8gbnVsbCxcbiAgICAgICAgdXNlZFVybDogQm9vbGVhbih1cmwpLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiL2FwaS9nZW5lcmF0ZSBlcnJvclwiLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAge1xuICAgICAgICBlcnJvcjogXCJVbmV4cGVjdGVkIGVycm9yIHdoaWxlIGdlbmVyYXRpbmcgcXVlc3Rpb25zLlwiLFxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJidWlsZFNvdXJjZVRleHQiLCJnZW5lcmF0ZVF1ZXN0aW9uc0Zyb21Tb3VyY2UiLCJleHRyYWN0UmVhZGFibGVUZXh0IiwiZ2VuZXJhdGVQYXlsb2FkU2NoZW1hIiwicnVudGltZSIsIlBPU1QiLCJyZXF1ZXN0IiwianNvbiIsInBhcnNlZCIsInNhZmVQYXJzZSIsInN1Y2Nlc3MiLCJmaWVsZEVycm9ycyIsImVycm9yIiwiZmxhdHRlbiIsImRldGFpbHMiLCJzdGF0dXMiLCJwcm9jZXNzIiwiZW52IiwiT1BFTkFJX0FQSV9LRVkiLCJub3RlcyIsInVybCIsInN1YmplY3QiLCJkaWZmaWN1bHR5IiwicXVlc3Rpb25Db3VudCIsImVucmljaEJleW9uZE5vdGVzIiwiZGF0YSIsInVybFRleHQiLCJ1cmxUaXRsZSIsImFydGljbGUiLCJ0ZXh0IiwidGl0bGUiLCJzb3VyY2VUZXh0IiwicXVlc3Rpb25zIiwic2V0dGluZ3MiLCJtZXRhIiwic291cmNlVGl0bGUiLCJ1c2VkVXJsIiwiQm9vbGVhbiIsImNvbnNvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/generate/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/content.ts":
/*!****************************!*\
  !*** ./src/lib/content.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildSourceText: () => (/* binding */ buildSourceText),\n/* harmony export */   ensureHasContent: () => (/* binding */ ensureHasContent),\n/* harmony export */   normalizeWhitespace: () => (/* binding */ normalizeWhitespace),\n/* harmony export */   truncateText: () => (/* binding */ truncateText)\n/* harmony export */ });\nconst MAX_INPUT_LENGTH = 12000;\nfunction normalizeWhitespace(text) {\n    return text.replace(/\\r\\n?/g, \"\\n\").replace(/\\n{3,}/g, \"\\n\\n\").replace(/[\\t\\f\\v]+/g, \" \").replace(/ {2,}/g, \" \").trim();\n}\nfunction truncateText(text, maxLength = MAX_INPUT_LENGTH) {\n    if (text.length <= maxLength) return text;\n    const truncated = text.slice(0, maxLength);\n    const lastSentence = truncated.lastIndexOf(\".\");\n    const cutIndex = lastSentence > maxLength * 0.6 ? lastSentence + 1 : truncated.lastIndexOf(\" \");\n    return `${truncated.slice(0, Math.max(cutIndex, maxLength * 0.8))}â€¦`;\n}\nfunction buildSourceText({ notes, urlText, urlTitle }) {\n    const cleanedNotes = notes ? normalizeWhitespace(notes) : \"\";\n    const cleanedUrlText = urlText ? normalizeWhitespace(urlText) : \"\";\n    const combined = [\n        cleanedNotes && `NOTES:\\n${cleanedNotes}`,\n        cleanedUrlText && `SOURCE (${urlTitle ?? \"URL\"}):\\n${cleanedUrlText}`\n    ].filter(Boolean).join(\"\\n\\n\");\n    return truncateText(combined);\n}\nfunction ensureHasContent(notes, urlText) {\n    if (!notes && !urlText) {\n        throw new Error(\"Provide notes text or a URL to generate questions.\");\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2NvbnRlbnQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLE1BQU1BLG1CQUFtQjtBQUVsQixTQUFTQyxvQkFBb0JDLElBQVk7SUFDOUMsT0FBT0EsS0FDSkMsT0FBTyxDQUFDLFVBQVUsTUFDbEJBLE9BQU8sQ0FBQyxXQUFXLFFBQ25CQSxPQUFPLENBQUMsY0FBYyxLQUN0QkEsT0FBTyxDQUFDLFVBQVUsS0FDbEJDLElBQUk7QUFDVDtBQUVPLFNBQVNDLGFBQWFILElBQVksRUFBRUksWUFBWU4sZ0JBQWdCO0lBQ3JFLElBQUlFLEtBQUtLLE1BQU0sSUFBSUQsV0FBVyxPQUFPSjtJQUNyQyxNQUFNTSxZQUFZTixLQUFLTyxLQUFLLENBQUMsR0FBR0g7SUFDaEMsTUFBTUksZUFBZUYsVUFBVUcsV0FBVyxDQUFDO0lBQzNDLE1BQU1DLFdBQVdGLGVBQWVKLFlBQVksTUFBTUksZUFBZSxJQUFJRixVQUFVRyxXQUFXLENBQUM7SUFDM0YsT0FBTyxDQUFDLEVBQUVILFVBQVVDLEtBQUssQ0FBQyxHQUFHSSxLQUFLQyxHQUFHLENBQUNGLFVBQVVOLFlBQVksTUFBTSxDQUFDLENBQUM7QUFDdEU7QUFFTyxTQUFTUyxnQkFBZ0IsRUFDOUJDLEtBQUssRUFDTEMsT0FBTyxFQUNQQyxRQUFRLEVBS1Q7SUFDQyxNQUFNQyxlQUFlSCxRQUFRZixvQkFBb0JlLFNBQVM7SUFDMUQsTUFBTUksaUJBQWlCSCxVQUFVaEIsb0JBQW9CZ0IsV0FBVztJQUVoRSxNQUFNSSxXQUFXO1FBQ2ZGLGdCQUFnQixDQUFDLFFBQVEsRUFBRUEsYUFBYSxDQUFDO1FBQ3pDQyxrQkFBa0IsQ0FBQyxRQUFRLEVBQUVGLFlBQVksTUFBTSxJQUFJLEVBQUVFLGVBQWUsQ0FBQztLQUN0RSxDQUNFRSxNQUFNLENBQUNDLFNBQ1BDLElBQUksQ0FBQztJQUVSLE9BQU9uQixhQUFhZ0I7QUFDdEI7QUFFTyxTQUFTSSxpQkFBaUJULEtBQWMsRUFBRUMsT0FBZ0I7SUFDL0QsSUFBSSxDQUFDRCxTQUFTLENBQUNDLFNBQVM7UUFDdEIsTUFBTSxJQUFJUyxNQUFNO0lBQ2xCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tY3EtZ2VuZXJhdG9yLy4vc3JjL2xpYi9jb250ZW50LnRzP2ZiZDAiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgTUFYX0lOUFVUX0xFTkdUSCA9IDEyMDAwO1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplV2hpdGVzcGFjZSh0ZXh0OiBzdHJpbmcpIHtcbiAgcmV0dXJuIHRleHRcbiAgICAucmVwbGFjZSgvXFxyXFxuPy9nLCBcIlxcblwiKVxuICAgIC5yZXBsYWNlKC9cXG57Myx9L2csIFwiXFxuXFxuXCIpXG4gICAgLnJlcGxhY2UoL1tcXHRcXGZcXHZdKy9nLCBcIiBcIilcbiAgICAucmVwbGFjZSgvIHsyLH0vZywgXCIgXCIpXG4gICAgLnRyaW0oKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRydW5jYXRlVGV4dCh0ZXh0OiBzdHJpbmcsIG1heExlbmd0aCA9IE1BWF9JTlBVVF9MRU5HVEgpIHtcbiAgaWYgKHRleHQubGVuZ3RoIDw9IG1heExlbmd0aCkgcmV0dXJuIHRleHQ7XG4gIGNvbnN0IHRydW5jYXRlZCA9IHRleHQuc2xpY2UoMCwgbWF4TGVuZ3RoKTtcbiAgY29uc3QgbGFzdFNlbnRlbmNlID0gdHJ1bmNhdGVkLmxhc3RJbmRleE9mKFwiLlwiKTtcbiAgY29uc3QgY3V0SW5kZXggPSBsYXN0U2VudGVuY2UgPiBtYXhMZW5ndGggKiAwLjYgPyBsYXN0U2VudGVuY2UgKyAxIDogdHJ1bmNhdGVkLmxhc3RJbmRleE9mKFwiIFwiKTtcbiAgcmV0dXJuIGAke3RydW5jYXRlZC5zbGljZSgwLCBNYXRoLm1heChjdXRJbmRleCwgbWF4TGVuZ3RoICogMC44KSl94oCmYDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkU291cmNlVGV4dCh7XG4gIG5vdGVzLFxuICB1cmxUZXh0LFxuICB1cmxUaXRsZSxcbn06IHtcbiAgbm90ZXM/OiBzdHJpbmc7XG4gIHVybFRleHQ/OiBzdHJpbmc7XG4gIHVybFRpdGxlPzogc3RyaW5nO1xufSkge1xuICBjb25zdCBjbGVhbmVkTm90ZXMgPSBub3RlcyA/IG5vcm1hbGl6ZVdoaXRlc3BhY2Uobm90ZXMpIDogXCJcIjtcbiAgY29uc3QgY2xlYW5lZFVybFRleHQgPSB1cmxUZXh0ID8gbm9ybWFsaXplV2hpdGVzcGFjZSh1cmxUZXh0KSA6IFwiXCI7XG5cbiAgY29uc3QgY29tYmluZWQgPSBbXG4gICAgY2xlYW5lZE5vdGVzICYmIGBOT1RFUzpcXG4ke2NsZWFuZWROb3Rlc31gLFxuICAgIGNsZWFuZWRVcmxUZXh0ICYmIGBTT1VSQ0UgKCR7dXJsVGl0bGUgPz8gXCJVUkxcIn0pOlxcbiR7Y2xlYW5lZFVybFRleHR9YCxcbiAgXVxuICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAuam9pbihcIlxcblxcblwiKTtcblxuICByZXR1cm4gdHJ1bmNhdGVUZXh0KGNvbWJpbmVkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZUhhc0NvbnRlbnQobm90ZXM/OiBzdHJpbmcsIHVybFRleHQ/OiBzdHJpbmcpIHtcbiAgaWYgKCFub3RlcyAmJiAhdXJsVGV4dCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlByb3ZpZGUgbm90ZXMgdGV4dCBvciBhIFVSTCB0byBnZW5lcmF0ZSBxdWVzdGlvbnMuXCIpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTUFYX0lOUFVUX0xFTkdUSCIsIm5vcm1hbGl6ZVdoaXRlc3BhY2UiLCJ0ZXh0IiwicmVwbGFjZSIsInRyaW0iLCJ0cnVuY2F0ZVRleHQiLCJtYXhMZW5ndGgiLCJsZW5ndGgiLCJ0cnVuY2F0ZWQiLCJzbGljZSIsImxhc3RTZW50ZW5jZSIsImxhc3RJbmRleE9mIiwiY3V0SW5kZXgiLCJNYXRoIiwibWF4IiwiYnVpbGRTb3VyY2VUZXh0Iiwibm90ZXMiLCJ1cmxUZXh0IiwidXJsVGl0bGUiLCJjbGVhbmVkTm90ZXMiLCJjbGVhbmVkVXJsVGV4dCIsImNvbWJpbmVkIiwiZmlsdGVyIiwiQm9vbGVhbiIsImpvaW4iLCJlbnN1cmVIYXNDb250ZW50IiwiRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/content.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/generation.ts":
/*!*******************************!*\
  !*** ./src/lib/generation.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateQuestionsFromSource: () => (/* binding */ generateQuestionsFromSource)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n/* harmony import */ var _lib_openai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/openai */ \"(rsc)/./src/lib/openai.ts\");\n\n\n\nconst aiResponseSchema = zod__WEBPACK_IMPORTED_MODULE_2__.object({\n    questions: zod__WEBPACK_IMPORTED_MODULE_2__.array(zod__WEBPACK_IMPORTED_MODULE_2__.object({\n        question: zod__WEBPACK_IMPORTED_MODULE_2__.string().min(8),\n        options: zod__WEBPACK_IMPORTED_MODULE_2__.object({\n            A: zod__WEBPACK_IMPORTED_MODULE_2__.string().min(1),\n            B: zod__WEBPACK_IMPORTED_MODULE_2__.string().min(1),\n            C: zod__WEBPACK_IMPORTED_MODULE_2__.string().min(1),\n            D: zod__WEBPACK_IMPORTED_MODULE_2__.string().min(1)\n        }),\n        answer: zod__WEBPACK_IMPORTED_MODULE_2__.union([\n            zod__WEBPACK_IMPORTED_MODULE_2__.literal(\"A\"),\n            zod__WEBPACK_IMPORTED_MODULE_2__.literal(\"B\"),\n            zod__WEBPACK_IMPORTED_MODULE_2__.literal(\"C\"),\n            zod__WEBPACK_IMPORTED_MODULE_2__.literal(\"D\")\n        ]),\n        explanation: zod__WEBPACK_IMPORTED_MODULE_2__.string().min(4),\n        sourceSpan: zod__WEBPACK_IMPORTED_MODULE_2__.string().min(3)\n    })).min(1)\n});\nfunction buildSystemPrompt(settings) {\n    return `You are an expert exam author creating high-quality multiple choice questions.\nEach question must be challenging yet fair, unambiguous, and aligned with the provided material.\nUse only the subject matter expertise relevant to \"${settings.subject}\" and match the requested difficulty (${settings.difficulty}).`;\n}\nfunction buildUserPrompt({ sourceText, settings }) {\n    const beyondNotesHint = settings.enrichBeyondNotes ? 'When necessary to create rigorous questions, you may use reliable domain knowledge beyond the supplied text. For any question that relies on enrichment, set sourceSpan to \"Beyond-notes\".' : \"Do not invent content beyond what is provided. Every answer must be justified by the supplied text. sourceSpan must quote the exact short phrase (<= 140 characters) from the supplied text that supports the answer.\";\n    return `Write exactly ${settings.questionCount} multiple-choice questions using the supplied material.\nRequirements:\n- Each question has four options labelled A-D with only one correct answer.\n- Provide a concise explanation (max 45 words) for the correct answer.\n- Include a sourceSpan string. Quote a phrase (<= 140 characters) that justifies the answer. ${settings.enrichBeyondNotes ? 'If enrichment was required, use the literal string \"Beyond-notes\".' : \"Never use Beyond-notes.\"}\n- Vary cognitive level and phrasing. Avoid true/false, avoid trivial recall.\n- No duplicate questions. Avoid answer leakage (options giving away the answer).\n${beyondNotesHint}\n\nContext to analyze:\n\"\"\"\n${sourceText}\n\"\"\"`;\n}\nasync function generateQuestionsFromSource({ sourceText, settings }) {\n    const client = (0,_lib_openai__WEBPACK_IMPORTED_MODULE_1__.getOpenAIClient)();\n    const response = await client.responses.create({\n        model: (0,_lib_openai__WEBPACK_IMPORTED_MODULE_1__.getModel)(),\n        temperature: 0.7,\n        max_output_tokens: Math.max(800, settings.questionCount * 180),\n        input: [\n            {\n                role: \"system\",\n                content: [\n                    {\n                        type: \"input_text\",\n                        text: buildSystemPrompt(settings)\n                    }\n                ]\n            },\n            {\n                role: \"user\",\n                content: [\n                    {\n                        type: \"input_text\",\n                        text: buildUserPrompt({\n                            sourceText,\n                            settings\n                        })\n                    }\n                ]\n            }\n        ],\n        text: {\n            format: {\n                type: \"json_schema\",\n                name: \"mcq_response\",\n                schema: {\n                    type: \"object\",\n                    additionalProperties: false,\n                    properties: {\n                        questions: {\n                            type: \"array\",\n                            minItems: settings.questionCount,\n                            maxItems: settings.questionCount,\n                            items: {\n                                type: \"object\",\n                                additionalProperties: false,\n                                properties: {\n                                    question: {\n                                        type: \"string\"\n                                    },\n                                    options: {\n                                        type: \"object\",\n                                        additionalProperties: false,\n                                        properties: {\n                                            A: {\n                                                type: \"string\"\n                                            },\n                                            B: {\n                                                type: \"string\"\n                                            },\n                                            C: {\n                                                type: \"string\"\n                                            },\n                                            D: {\n                                                type: \"string\"\n                                            }\n                                        },\n                                        required: [\n                                            \"A\",\n                                            \"B\",\n                                            \"C\",\n                                            \"D\"\n                                        ]\n                                    },\n                                    answer: {\n                                        type: \"string\",\n                                        enum: [\n                                            \"A\",\n                                            \"B\",\n                                            \"C\",\n                                            \"D\"\n                                        ]\n                                    },\n                                    explanation: {\n                                        type: \"string\"\n                                    },\n                                    sourceSpan: {\n                                        type: \"string\"\n                                    }\n                                },\n                                required: [\n                                    \"question\",\n                                    \"options\",\n                                    \"answer\",\n                                    \"explanation\",\n                                    \"sourceSpan\"\n                                ]\n                            }\n                        }\n                    },\n                    required: [\n                        \"questions\"\n                    ]\n                },\n                strict: true\n            }\n        }\n    });\n    const outputText = response.output_text;\n    if (!outputText) {\n        throw new Error(\"No response from OpenAI\");\n    }\n    const parsed = aiResponseSchema.safeParse(JSON.parse(outputText));\n    if (!parsed.success) {\n        throw new Error(\"Failed to parse questions from OpenAI response\");\n    }\n    const optionOrder = [\n        \"A\",\n        \"B\",\n        \"C\",\n        \"D\"\n    ];\n    return parsed.data.questions.map((question)=>({\n            id: (0,crypto__WEBPACK_IMPORTED_MODULE_0__.randomUUID)(),\n            question: question.question.trim(),\n            options: optionOrder.map((label)=>({\n                    label,\n                    text: question.options[label].trim()\n                })),\n            answer: question.answer,\n            explanation: question.explanation.trim(),\n            sourceSpan: question.sourceSpan.trim()\n        }));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bmVyYXRvci8uL3NyYy9saWIvZ2VuZXJhdGlvbi50cz8zZTBlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJhbmRvbVVVSUQgfSBmcm9tIFwiY3J5cHRvXCI7XG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuXG5pbXBvcnQgeyBBbnN3ZXJPcHRpb24sIEdlbmVyYXRpb25TZXR0aW5ncywgTUNRUXVlc3Rpb24gfSBmcm9tIFwiQC90eXBlc1wiO1xuaW1wb3J0IHsgZ2V0TW9kZWwsIGdldE9wZW5BSUNsaWVudCB9IGZyb20gXCJAL2xpYi9vcGVuYWlcIjtcblxuY29uc3QgYWlSZXNwb25zZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgcXVlc3Rpb25zOiB6XG4gICAgLmFycmF5KFxuICAgICAgei5vYmplY3Qoe1xuICAgICAgICBxdWVzdGlvbjogei5zdHJpbmcoKS5taW4oOCksXG4gICAgICAgIG9wdGlvbnM6IHoub2JqZWN0KHtcbiAgICAgICAgICBBOiB6LnN0cmluZygpLm1pbigxKSxcbiAgICAgICAgICBCOiB6LnN0cmluZygpLm1pbigxKSxcbiAgICAgICAgICBDOiB6LnN0cmluZygpLm1pbigxKSxcbiAgICAgICAgICBEOiB6LnN0cmluZygpLm1pbigxKSxcbiAgICAgICAgfSksXG4gICAgICAgIGFuc3dlcjogei51bmlvbihbXG4gICAgICAgICAgei5saXRlcmFsKFwiQVwiKSxcbiAgICAgICAgICB6LmxpdGVyYWwoXCJCXCIpLFxuICAgICAgICAgIHoubGl0ZXJhbChcIkNcIiksXG4gICAgICAgICAgei5saXRlcmFsKFwiRFwiKSxcbiAgICAgICAgXSksXG4gICAgICAgIGV4cGxhbmF0aW9uOiB6LnN0cmluZygpLm1pbig0KSxcbiAgICAgICAgc291cmNlU3Bhbjogei5zdHJpbmcoKS5taW4oMyksXG4gICAgICB9KVxuICAgIClcbiAgICAubWluKDEpLFxufSk7XG5cbmZ1bmN0aW9uIGJ1aWxkU3lzdGVtUHJvbXB0KHNldHRpbmdzOiBHZW5lcmF0aW9uU2V0dGluZ3MpIHtcbiAgcmV0dXJuIGBZb3UgYXJlIGFuIGV4cGVydCBleGFtIGF1dGhvciBjcmVhdGluZyBoaWdoLXF1YWxpdHkgbXVsdGlwbGUgY2hvaWNlIHF1ZXN0aW9ucy5cbkVhY2ggcXVlc3Rpb24gbXVzdCBiZSBjaGFsbGVuZ2luZyB5ZXQgZmFpciwgdW5hbWJpZ3VvdXMsIGFuZCBhbGlnbmVkIHdpdGggdGhlIHByb3ZpZGVkIG1hdGVyaWFsLlxuVXNlIG9ubHkgdGhlIHN1YmplY3QgbWF0dGVyIGV4cGVydGlzZSByZWxldmFudCB0byBcIiR7c2V0dGluZ3Muc3ViamVjdH1cIiBhbmQgbWF0Y2ggdGhlIHJlcXVlc3RlZCBkaWZmaWN1bHR5ICgke3NldHRpbmdzLmRpZmZpY3VsdHl9KS5gO1xufVxuXG5mdW5jdGlvbiBidWlsZFVzZXJQcm9tcHQoe1xuICBzb3VyY2VUZXh0LFxuICBzZXR0aW5ncyxcbn06IHtcbiAgc291cmNlVGV4dDogc3RyaW5nO1xuICBzZXR0aW5nczogR2VuZXJhdGlvblNldHRpbmdzO1xufSkge1xuICBjb25zdCBiZXlvbmROb3Rlc0hpbnQgPSBzZXR0aW5ncy5lbnJpY2hCZXlvbmROb3Rlc1xuICAgID8gXCJXaGVuIG5lY2Vzc2FyeSB0byBjcmVhdGUgcmlnb3JvdXMgcXVlc3Rpb25zLCB5b3UgbWF5IHVzZSByZWxpYWJsZSBkb21haW4ga25vd2xlZGdlIGJleW9uZCB0aGUgc3VwcGxpZWQgdGV4dC4gRm9yIGFueSBxdWVzdGlvbiB0aGF0IHJlbGllcyBvbiBlbnJpY2htZW50LCBzZXQgc291cmNlU3BhbiB0byBcXFwiQmV5b25kLW5vdGVzXFxcIi5cIlxuICAgIDogXCJEbyBub3QgaW52ZW50IGNvbnRlbnQgYmV5b25kIHdoYXQgaXMgcHJvdmlkZWQuIEV2ZXJ5IGFuc3dlciBtdXN0IGJlIGp1c3RpZmllZCBieSB0aGUgc3VwcGxpZWQgdGV4dC4gc291cmNlU3BhbiBtdXN0IHF1b3RlIHRoZSBleGFjdCBzaG9ydCBwaHJhc2UgKDw9IDE0MCBjaGFyYWN0ZXJzKSBmcm9tIHRoZSBzdXBwbGllZCB0ZXh0IHRoYXQgc3VwcG9ydHMgdGhlIGFuc3dlci5cIjtcblxuICByZXR1cm4gYFdyaXRlIGV4YWN0bHkgJHtzZXR0aW5ncy5xdWVzdGlvbkNvdW50fSBtdWx0aXBsZS1jaG9pY2UgcXVlc3Rpb25zIHVzaW5nIHRoZSBzdXBwbGllZCBtYXRlcmlhbC5cblJlcXVpcmVtZW50czpcbi0gRWFjaCBxdWVzdGlvbiBoYXMgZm91ciBvcHRpb25zIGxhYmVsbGVkIEEtRCB3aXRoIG9ubHkgb25lIGNvcnJlY3QgYW5zd2VyLlxuLSBQcm92aWRlIGEgY29uY2lzZSBleHBsYW5hdGlvbiAobWF4IDQ1IHdvcmRzKSBmb3IgdGhlIGNvcnJlY3QgYW5zd2VyLlxuLSBJbmNsdWRlIGEgc291cmNlU3BhbiBzdHJpbmcuIFF1b3RlIGEgcGhyYXNlICg8PSAxNDAgY2hhcmFjdGVycykgdGhhdCBqdXN0aWZpZXMgdGhlIGFuc3dlci4gJHtzZXR0aW5ncy5lbnJpY2hCZXlvbmROb3RlcyA/IFwiSWYgZW5yaWNobWVudCB3YXMgcmVxdWlyZWQsIHVzZSB0aGUgbGl0ZXJhbCBzdHJpbmcgXFxcIkJleW9uZC1ub3Rlc1xcXCIuXCIgOiBcIk5ldmVyIHVzZSBCZXlvbmQtbm90ZXMuXCJ9XG4tIFZhcnkgY29nbml0aXZlIGxldmVsIGFuZCBwaHJhc2luZy4gQXZvaWQgdHJ1ZS9mYWxzZSwgYXZvaWQgdHJpdmlhbCByZWNhbGwuXG4tIE5vIGR1cGxpY2F0ZSBxdWVzdGlvbnMuIEF2b2lkIGFuc3dlciBsZWFrYWdlIChvcHRpb25zIGdpdmluZyBhd2F5IHRoZSBhbnN3ZXIpLlxuJHtiZXlvbmROb3Rlc0hpbnR9XG5cbkNvbnRleHQgdG8gYW5hbHl6ZTpcblwiXCJcIlxuJHtzb3VyY2VUZXh0fVxuXCJcIlwiYDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlUXVlc3Rpb25zRnJvbVNvdXJjZSh7XG4gIHNvdXJjZVRleHQsXG4gIHNldHRpbmdzLFxufToge1xuICBzb3VyY2VUZXh0OiBzdHJpbmc7XG4gIHNldHRpbmdzOiBHZW5lcmF0aW9uU2V0dGluZ3M7XG59KTogUHJvbWlzZTxNQ1FRdWVzdGlvbltdPiB7XG4gIGNvbnN0IGNsaWVudCA9IGdldE9wZW5BSUNsaWVudCgpO1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNsaWVudC5yZXNwb25zZXMuY3JlYXRlKHtcbiAgICBtb2RlbDogZ2V0TW9kZWwoKSxcbiAgICB0ZW1wZXJhdHVyZTogMC43LFxuICAgIG1heF9vdXRwdXRfdG9rZW5zOiBNYXRoLm1heCg4MDAsIHNldHRpbmdzLnF1ZXN0aW9uQ291bnQgKiAxODApLFxuICAgIGlucHV0OiBbXG4gICAgICB7XG4gICAgICAgIHJvbGU6IFwic3lzdGVtXCIsXG4gICAgICAgIGNvbnRlbnQ6IFt7IHR5cGU6IFwiaW5wdXRfdGV4dFwiLCB0ZXh0OiBidWlsZFN5c3RlbVByb21wdChzZXR0aW5ncykgfV0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgY29udGVudDogW3sgdHlwZTogXCJpbnB1dF90ZXh0XCIsIHRleHQ6IGJ1aWxkVXNlclByb21wdCh7IHNvdXJjZVRleHQsIHNldHRpbmdzIH0pIH1dLFxuICAgICAgfSxcbiAgICBdLFxuICAgIHRleHQ6IHtcbiAgICAgIGZvcm1hdDoge1xuICAgICAgICB0eXBlOiBcImpzb25fc2NoZW1hXCIsXG4gICAgICAgIG5hbWU6IFwibWNxX3Jlc3BvbnNlXCIsXG4gICAgICAgIHNjaGVtYToge1xuICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgIHF1ZXN0aW9uczoge1xuICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICAgIG1pbkl0ZW1zOiBzZXR0aW5ncy5xdWVzdGlvbkNvdW50LFxuICAgICAgICAgICAgICBtYXhJdGVtczogc2V0dGluZ3MucXVlc3Rpb25Db3VudCxcbiAgICAgICAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICBxdWVzdGlvbjogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICAgIEE6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgIEI6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgIEM6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgIEQ6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogW1wiQVwiLCBcIkJcIiwgXCJDXCIsIFwiRFwiXSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBhbnN3ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgZW51bTogW1wiQVwiLCBcIkJcIiwgXCJDXCIsIFwiRFwiXSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBleHBsYW5hdGlvbjogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgICAgICAgICBzb3VyY2VTcGFuOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBbXG4gICAgICAgICAgICAgICAgICBcInF1ZXN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICBcIm9wdGlvbnNcIixcbiAgICAgICAgICAgICAgICAgIFwiYW5zd2VyXCIsXG4gICAgICAgICAgICAgICAgICBcImV4cGxhbmF0aW9uXCIsXG4gICAgICAgICAgICAgICAgICBcInNvdXJjZVNwYW5cIixcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlcXVpcmVkOiBbXCJxdWVzdGlvbnNcIl0sXG4gICAgICAgIH0sXG4gICAgICAgIHN0cmljdDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSk7XG5cbiAgY29uc3Qgb3V0cHV0VGV4dCA9IHJlc3BvbnNlLm91dHB1dF90ZXh0O1xuICBpZiAoIW91dHB1dFRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyByZXNwb25zZSBmcm9tIE9wZW5BSVwiKTtcbiAgfVxuXG4gIGNvbnN0IHBhcnNlZCA9IGFpUmVzcG9uc2VTY2hlbWEuc2FmZVBhcnNlKEpTT04ucGFyc2Uob3V0cHV0VGV4dCkpO1xuICBpZiAoIXBhcnNlZC5zdWNjZXNzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIHF1ZXN0aW9ucyBmcm9tIE9wZW5BSSByZXNwb25zZVwiKTtcbiAgfVxuXG4gIGNvbnN0IG9wdGlvbk9yZGVyOiBBbnN3ZXJPcHRpb25bXSA9IFtcIkFcIiwgXCJCXCIsIFwiQ1wiLCBcIkRcIl07XG5cbiAgcmV0dXJuIHBhcnNlZC5kYXRhLnF1ZXN0aW9ucy5tYXAoKHF1ZXN0aW9uKSA9PiAoe1xuICAgIGlkOiByYW5kb21VVUlEKCksXG4gICAgcXVlc3Rpb246IHF1ZXN0aW9uLnF1ZXN0aW9uLnRyaW0oKSxcbiAgICBvcHRpb25zOiBvcHRpb25PcmRlci5tYXAoKGxhYmVsKSA9PiAoe1xuICAgICAgbGFiZWwsXG4gICAgICB0ZXh0OiBxdWVzdGlvbi5vcHRpb25zW2xhYmVsXS50cmltKCksXG4gICAgfSkpLFxuICAgIGFuc3dlcjogcXVlc3Rpb24uYW5zd2VyLFxuICAgIGV4cGxhbmF0aW9uOiBxdWVzdGlvbi5leHBsYW5hdGlvbi50cmltKCksXG4gICAgc291cmNlU3BhbjogcXVlc3Rpb24uc291cmNlU3Bhbi50cmltKCksXG4gIH0pKTtcbn1cbiJdLCJuYW1lcyI6WyJyYW5kb21VVUlEIiwieiIsImdldE1vZGVsIiwiZ2V0T3BlbkFJQ2xpZW50IiwiYWlSZXNwb25zZVNjaGVtYSIsIm9iamVjdCIsInF1ZXN0aW9ucyIsImFycmF5IiwicXVlc3Rpb24iLCJzdHJpbmciLCJtaW4iLCJvcHRpb25zIiwiQSIsIkIiLCJDIiwiRCIsImFuc3dlciIsInVuaW9uIiwibGl0ZXJhbCIsImV4cGxhbmF0aW9uIiwic291cmNlU3BhbiIsImJ1aWxkU3lzdGVtUHJvbXB0Iiwic2V0dGluZ3MiLCJzdWJqZWN0IiwiZGlmZmljdWx0eSIsImJ1aWxkVXNlclByb21wdCIsInNvdXJjZVRleHQiLCJiZXlvbmROb3Rlc0hpbnQiLCJlbnJpY2hCZXlvbmROb3RlcyIsInF1ZXN0aW9uQ291bnQiLCJnZW5lcmF0ZVF1ZXN0aW9uc0Zyb21Tb3VyY2UiLCJjbGllbnQiLCJyZXNwb25zZSIsInJlc3BvbnNlcyIsImNyZWF0ZSIsIm1vZGVsIiwidGVtcGVyYXR1cmUiLCJtYXhfb3V0cHV0X3Rva2VucyIsIk1hdGgiLCJtYXgiLCJpbnB1dCIsInJvbGUiLCJjb250ZW50IiwidHlwZSIsInRleHQiLCJmb3JtYXQiLCJuYW1lIiwic2NoZW1hIiwiYWRkaXRpb25hbFByb3BlcnRpZXMiLCJwcm9wZXJ0aWVzIiwibWluSXRlbXMiLCJtYXhJdGVtcyIsIml0ZW1zIiwicmVxdWlyZWQiLCJlbnVtIiwic3RyaWN0Iiwib3V0cHV0VGV4dCIsIm91dHB1dF90ZXh0IiwiRXJyb3IiLCJwYXJzZWQiLCJzYWZlUGFyc2UiLCJKU09OIiwicGFyc2UiLCJzdWNjZXNzIiwib3B0aW9uT3JkZXIiLCJkYXRhIiwibWFwIiwiaWQiLCJ0cmltIiwibGFiZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/generation.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/openai.ts":
/*!***************************!*\
  !*** ./src/lib/openai.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getModel: () => (/* binding */ getModel),\n/* harmony export */   getOpenAIClient: () => (/* binding */ getOpenAIClient)\n/* harmony export */ });\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/openai/index.mjs\");\n\nlet client = null;\nfunction getOpenAIClient() {\n    if (client) return client;\n    const apiKey = process.env.OPENAI_API_KEY;\n    if (!apiKey) {\n        throw new Error(\"OPENAI_API_KEY is not configured\");\n    }\n    client = new openai__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n        apiKey\n    });\n    return client;\n}\nfunction getModel() {\n    return process.env.OPENAI_MODEL || \"gpt-4.1-mini\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL29wZW5haS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEI7QUFFNUIsSUFBSUMsU0FBd0I7QUFFckIsU0FBU0M7SUFDZCxJQUFJRCxRQUFRLE9BQU9BO0lBRW5CLE1BQU1FLFNBQVNDLFFBQVFDLEdBQUcsQ0FBQ0MsY0FBYztJQUN6QyxJQUFJLENBQUNILFFBQVE7UUFDWCxNQUFNLElBQUlJLE1BQU07SUFDbEI7SUFFQU4sU0FBUyxJQUFJRCw4Q0FBTUEsQ0FBQztRQUFFRztJQUFPO0lBQzdCLE9BQU9GO0FBQ1Q7QUFFTyxTQUFTTztJQUNkLE9BQU9KLFFBQVFDLEdBQUcsQ0FBQ0ksWUFBWSxJQUFJO0FBQ3JDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWNxLWdlbmVyYXRvci8uL3NyYy9saWIvb3BlbmFpLnRzP2E1YzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE9wZW5BSSBmcm9tIFwib3BlbmFpXCI7XG5cbmxldCBjbGllbnQ6IE9wZW5BSSB8IG51bGwgPSBudWxsO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0T3BlbkFJQ2xpZW50KCkge1xuICBpZiAoY2xpZW50KSByZXR1cm4gY2xpZW50O1xuXG4gIGNvbnN0IGFwaUtleSA9IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZO1xuICBpZiAoIWFwaUtleSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk9QRU5BSV9BUElfS0VZIGlzIG5vdCBjb25maWd1cmVkXCIpO1xuICB9XG5cbiAgY2xpZW50ID0gbmV3IE9wZW5BSSh7IGFwaUtleSB9KTtcbiAgcmV0dXJuIGNsaWVudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1vZGVsKCkge1xuICByZXR1cm4gcHJvY2Vzcy5lbnYuT1BFTkFJX01PREVMIHx8IFwiZ3B0LTQuMS1taW5pXCI7XG59XG4iXSwibmFtZXMiOlsiT3BlbkFJIiwiY2xpZW50IiwiZ2V0T3BlbkFJQ2xpZW50IiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsIk9QRU5BSV9BUElfS0VZIiwiRXJyb3IiLCJnZXRNb2RlbCIsIk9QRU5BSV9NT0RFTCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/openai.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/scrape.ts":
/*!***************************!*\
  !*** ./src/lib/scrape.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extractReadableText: () => (/* binding */ extractReadableText)\n/* harmony export */ });\n/* harmony import */ var jsdom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsdom */ \"jsdom\");\n/* harmony import */ var jsdom__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsdom__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mozilla_readability__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @mozilla/readability */ \"(rsc)/./node_modules/@mozilla/readability/index.js\");\n/* harmony import */ var _mozilla_readability__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_mozilla_readability__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_content__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/content */ \"(rsc)/./src/lib/content.ts\");\n\n\n\nconst USER_AGENT = \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\";\nasync function extractReadableText(url) {\n    const response = await fetch(url, {\n        headers: {\n            \"User-Agent\": USER_AGENT,\n            Accept: \"text/html,application/xhtml+xml\"\n        }\n    });\n    if (!response.ok) {\n        throw new Error(`Failed to fetch URL: ${response.status} ${response.statusText}`);\n    }\n    const html = await response.text();\n    const dom = new jsdom__WEBPACK_IMPORTED_MODULE_0__.JSDOM(html, {\n        url\n    });\n    const reader = new _mozilla_readability__WEBPACK_IMPORTED_MODULE_1__.Readability(dom.window.document);\n    const article = reader.parse();\n    const textContent = article?.textContent ?? dom.window.document.body?.textContent ?? \"\";\n    const title = article?.title ?? dom.window.document.title ?? undefined;\n    return {\n        title,\n        text: (0,_lib_content__WEBPACK_IMPORTED_MODULE_2__.truncateText)((0,_lib_content__WEBPACK_IMPORTED_MODULE_2__.normalizeWhitespace)(textContent))\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3NjcmFwZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBOEI7QUFDcUI7QUFFZTtBQUVsRSxNQUFNSSxhQUNKO0FBRUssZUFBZUMsb0JBQW9CQyxHQUFXO0lBQ25ELE1BQU1DLFdBQVcsTUFBTUMsTUFBTUYsS0FBSztRQUNoQ0csU0FBUztZQUNQLGNBQWNMO1lBQ2RNLFFBQVE7UUFDVjtJQUNGO0lBRUEsSUFBSSxDQUFDSCxTQUFTSSxFQUFFLEVBQUU7UUFDaEIsTUFBTSxJQUFJQyxNQUFNLENBQUMscUJBQXFCLEVBQUVMLFNBQVNNLE1BQU0sQ0FBQyxDQUFDLEVBQUVOLFNBQVNPLFVBQVUsQ0FBQyxDQUFDO0lBQ2xGO0lBRUEsTUFBTUMsT0FBTyxNQUFNUixTQUFTUyxJQUFJO0lBQ2hDLE1BQU1DLE1BQU0sSUFBSWpCLHdDQUFLQSxDQUFDZSxNQUFNO1FBQUVUO0lBQUk7SUFDbEMsTUFBTVksU0FBUyxJQUFJakIsNkRBQVdBLENBQUNnQixJQUFJRSxNQUFNLENBQUNDLFFBQVE7SUFDbEQsTUFBTUMsVUFBVUgsT0FBT0ksS0FBSztJQUU1QixNQUFNQyxjQUFjRixTQUFTRSxlQUFlTixJQUFJRSxNQUFNLENBQUNDLFFBQVEsQ0FBQ0ksSUFBSSxFQUFFRCxlQUFlO0lBQ3JGLE1BQU1FLFFBQVFKLFNBQVNJLFNBQVNSLElBQUlFLE1BQU0sQ0FBQ0MsUUFBUSxDQUFDSyxLQUFLLElBQUlDO0lBRTdELE9BQU87UUFDTEQ7UUFDQVQsTUFBTWIsMERBQVlBLENBQUNELGlFQUFtQkEsQ0FBQ3FCO0lBQ3pDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tY3EtZ2VuZXJhdG9yLy4vc3JjL2xpYi9zY3JhcGUudHM/ZWY4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBKU0RPTSB9IGZyb20gXCJqc2RvbVwiO1xuaW1wb3J0IHsgUmVhZGFiaWxpdHkgfSBmcm9tIFwiQG1vemlsbGEvcmVhZGFiaWxpdHlcIjtcblxuaW1wb3J0IHsgbm9ybWFsaXplV2hpdGVzcGFjZSwgdHJ1bmNhdGVUZXh0IH0gZnJvbSBcIkAvbGliL2NvbnRlbnRcIjtcblxuY29uc3QgVVNFUl9BR0VOVCA9XG4gIFwiTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEyMC4wLjAuMCBTYWZhcmkvNTM3LjM2XCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleHRyYWN0UmVhZGFibGVUZXh0KHVybDogc3RyaW5nKSB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgaGVhZGVyczoge1xuICAgICAgXCJVc2VyLUFnZW50XCI6IFVTRVJfQUdFTlQsXG4gICAgICBBY2NlcHQ6IFwidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbFwiLFxuICAgIH0sXG4gIH0pO1xuXG4gIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBVUkw6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gIH1cblxuICBjb25zdCBodG1sID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICBjb25zdCBkb20gPSBuZXcgSlNET00oaHRtbCwgeyB1cmwgfSk7XG4gIGNvbnN0IHJlYWRlciA9IG5ldyBSZWFkYWJpbGl0eShkb20ud2luZG93LmRvY3VtZW50KTtcbiAgY29uc3QgYXJ0aWNsZSA9IHJlYWRlci5wYXJzZSgpO1xuXG4gIGNvbnN0IHRleHRDb250ZW50ID0gYXJ0aWNsZT8udGV4dENvbnRlbnQgPz8gZG9tLndpbmRvdy5kb2N1bWVudC5ib2R5Py50ZXh0Q29udGVudCA/PyBcIlwiO1xuICBjb25zdCB0aXRsZSA9IGFydGljbGU/LnRpdGxlID8/IGRvbS53aW5kb3cuZG9jdW1lbnQudGl0bGUgPz8gdW5kZWZpbmVkO1xuXG4gIHJldHVybiB7XG4gICAgdGl0bGUsXG4gICAgdGV4dDogdHJ1bmNhdGVUZXh0KG5vcm1hbGl6ZVdoaXRlc3BhY2UodGV4dENvbnRlbnQpKSxcbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJKU0RPTSIsIlJlYWRhYmlsaXR5Iiwibm9ybWFsaXplV2hpdGVzcGFjZSIsInRydW5jYXRlVGV4dCIsIlVTRVJfQUdFTlQiLCJleHRyYWN0UmVhZGFibGVUZXh0IiwidXJsIiwicmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJBY2NlcHQiLCJvayIsIkVycm9yIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImh0bWwiLCJ0ZXh0IiwiZG9tIiwicmVhZGVyIiwid2luZG93IiwiZG9jdW1lbnQiLCJhcnRpY2xlIiwicGFyc2UiLCJ0ZXh0Q29udGVudCIsImJvZHkiLCJ0aXRsZSIsInVuZGVmaW5lZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/scrape.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/validation.ts":
/*!*******************************!*\
  !*** ./src/lib/validation.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generatePayloadSchema: () => (/* binding */ generatePayloadSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/ZodError.js\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/types */ \"(rsc)/./src/types/index.ts\");\n\n\nconst subjectEnum = zod__WEBPACK_IMPORTED_MODULE_1__[\"enum\"](_types__WEBPACK_IMPORTED_MODULE_0__.SUBJECTS);\nconst difficultyEnum = zod__WEBPACK_IMPORTED_MODULE_1__[\"enum\"](_types__WEBPACK_IMPORTED_MODULE_0__.DIFFICULTIES);\nconst generatePayloadSchema = zod__WEBPACK_IMPORTED_MODULE_1__.object({\n    notes: zod__WEBPACK_IMPORTED_MODULE_1__.preprocess((value)=>{\n        if (typeof value !== \"string\") return value;\n        const trimmed = value.trim();\n        return trimmed.length > 0 ? trimmed : undefined;\n    }, zod__WEBPACK_IMPORTED_MODULE_1__.string().max(8000, \"Notes are too long (max 8000 characters)\").optional()),\n    url: zod__WEBPACK_IMPORTED_MODULE_1__.preprocess((value)=>{\n        if (typeof value !== \"string\") return value;\n        const trimmed = value.trim();\n        return trimmed.length > 0 ? trimmed : undefined;\n    }, zod__WEBPACK_IMPORTED_MODULE_1__.string().url(\"Enter a valid URL\").optional()),\n    subject: subjectEnum,\n    difficulty: difficultyEnum,\n    questionCount: zod__WEBPACK_IMPORTED_MODULE_1__.number({\n        invalid_type_error: \"Number of questions must be a number\"\n    }).int().min(1).max(20),\n    enrichBeyondNotes: zod__WEBPACK_IMPORTED_MODULE_1__.boolean().default(false)\n}).superRefine((data, ctx)=>{\n    if (!data.notes && !data.url) {\n        ctx.addIssue({\n            code: zod__WEBPACK_IMPORTED_MODULE_2__.ZodIssueCode.custom,\n            message: \"Provide notes or a source URL\",\n            path: [\n                \"notes\"\n            ]\n        });\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3ZhbGlkYXRpb24udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF3QjtBQUV5QjtBQUVqRCxNQUFNRyxjQUFjSCx3Q0FBTSxDQUFDRSw0Q0FBUUE7QUFDbkMsTUFBTUcsaUJBQWlCTCx3Q0FBTSxDQUFDQyxnREFBWUE7QUFFbkMsTUFBTUssd0JBQXdCTix1Q0FDNUIsQ0FBQztJQUNOUSxPQUFPUiwyQ0FBWSxDQUNqQixDQUFDVTtRQUNDLElBQUksT0FBT0EsVUFBVSxVQUFVLE9BQU9BO1FBQ3RDLE1BQU1DLFVBQVVELE1BQU1FLElBQUk7UUFDMUIsT0FBT0QsUUFBUUUsTUFBTSxHQUFHLElBQUlGLFVBQVVHO0lBQ3hDLEdBQ0FkLHVDQUNTLEdBQ05nQixHQUFHLENBQUMsTUFBTSw0Q0FDVkMsUUFBUTtJQUViQyxLQUFLbEIsMkNBQVksQ0FDZixDQUFDVTtRQUNDLElBQUksT0FBT0EsVUFBVSxVQUFVLE9BQU9BO1FBQ3RDLE1BQU1DLFVBQVVELE1BQU1FLElBQUk7UUFDMUIsT0FBT0QsUUFBUUUsTUFBTSxHQUFHLElBQUlGLFVBQVVHO0lBQ3hDLEdBQ0FkLHVDQUNTLEdBQ05rQixHQUFHLENBQUMscUJBQ0pELFFBQVE7SUFFYkUsU0FBU2hCO0lBQ1RpQixZQUFZZjtJQUNaZ0IsZUFBZXJCLHVDQUNOLENBQUM7UUFBRXVCLG9CQUFvQjtJQUF1QyxHQUNwRUMsR0FBRyxHQUNIQyxHQUFHLENBQUMsR0FDSlQsR0FBRyxDQUFDO0lBQ1BVLG1CQUFtQjFCLHdDQUFTLEdBQUc0QixPQUFPLENBQUM7QUFDekMsR0FDQ0MsV0FBVyxDQUFDLENBQUNDLE1BQU1DO0lBQ2xCLElBQUksQ0FBQ0QsS0FBS3RCLEtBQUssSUFBSSxDQUFDc0IsS0FBS1osR0FBRyxFQUFFO1FBQzVCYSxJQUFJQyxRQUFRLENBQUM7WUFDWEMsTUFBTWpDLDZDQUFjLENBQUNtQyxNQUFNO1lBQzNCQyxTQUFTO1lBQ1RDLE1BQU07Z0JBQUM7YUFBUTtRQUNqQjtJQUNGO0FBQ0YsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovL21jcS1nZW5lcmF0b3IvLi9zcmMvbGliL3ZhbGlkYXRpb24udHM/NDYwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuXG5pbXBvcnQgeyBESUZGSUNVTFRJRVMsIFNVQkpFQ1RTIH0gZnJvbSBcIkAvdHlwZXNcIjtcblxuY29uc3Qgc3ViamVjdEVudW0gPSB6LmVudW0oU1VCSkVDVFMpO1xuY29uc3QgZGlmZmljdWx0eUVudW0gPSB6LmVudW0oRElGRklDVUxUSUVTKTtcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlUGF5bG9hZFNjaGVtYSA9IHpcbiAgLm9iamVjdCh7XG4gICAgbm90ZXM6IHoucHJlcHJvY2VzcyhcbiAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSByZXR1cm4gdmFsdWU7XG4gICAgICAgIGNvbnN0IHRyaW1tZWQgPSB2YWx1ZS50cmltKCk7XG4gICAgICAgIHJldHVybiB0cmltbWVkLmxlbmd0aCA+IDAgPyB0cmltbWVkIDogdW5kZWZpbmVkO1xuICAgICAgfSxcbiAgICAgIHpcbiAgICAgICAgLnN0cmluZygpXG4gICAgICAgIC5tYXgoODAwMCwgXCJOb3RlcyBhcmUgdG9vIGxvbmcgKG1heCA4MDAwIGNoYXJhY3RlcnMpXCIpXG4gICAgICAgIC5vcHRpb25hbCgpXG4gICAgKSxcbiAgICB1cmw6IHoucHJlcHJvY2VzcyhcbiAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSByZXR1cm4gdmFsdWU7XG4gICAgICAgIGNvbnN0IHRyaW1tZWQgPSB2YWx1ZS50cmltKCk7XG4gICAgICAgIHJldHVybiB0cmltbWVkLmxlbmd0aCA+IDAgPyB0cmltbWVkIDogdW5kZWZpbmVkO1xuICAgICAgfSxcbiAgICAgIHpcbiAgICAgICAgLnN0cmluZygpXG4gICAgICAgIC51cmwoXCJFbnRlciBhIHZhbGlkIFVSTFwiKVxuICAgICAgICAub3B0aW9uYWwoKVxuICAgICksXG4gICAgc3ViamVjdDogc3ViamVjdEVudW0sXG4gICAgZGlmZmljdWx0eTogZGlmZmljdWx0eUVudW0sXG4gICAgcXVlc3Rpb25Db3VudDogelxuICAgICAgLm51bWJlcih7IGludmFsaWRfdHlwZV9lcnJvcjogXCJOdW1iZXIgb2YgcXVlc3Rpb25zIG11c3QgYmUgYSBudW1iZXJcIiB9KVxuICAgICAgLmludCgpXG4gICAgICAubWluKDEpXG4gICAgICAubWF4KDIwKSxcbiAgICBlbnJpY2hCZXlvbmROb3Rlczogei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSksXG4gIH0pXG4gIC5zdXBlclJlZmluZSgoZGF0YSwgY3R4KSA9PiB7XG4gICAgaWYgKCFkYXRhLm5vdGVzICYmICFkYXRhLnVybCkge1xuICAgICAgY3R4LmFkZElzc3VlKHtcbiAgICAgICAgY29kZTogei5ab2RJc3N1ZUNvZGUuY3VzdG9tLFxuICAgICAgICBtZXNzYWdlOiBcIlByb3ZpZGUgbm90ZXMgb3IgYSBzb3VyY2UgVVJMXCIsXG4gICAgICAgIHBhdGg6IFtcIm5vdGVzXCJdLFxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuZXhwb3J0IHR5cGUgR2VuZXJhdGVQYXlsb2FkID0gei5pbmZlcjx0eXBlb2YgZ2VuZXJhdGVQYXlsb2FkU2NoZW1hPjtcbiJdLCJuYW1lcyI6WyJ6IiwiRElGRklDVUxUSUVTIiwiU1VCSkVDVFMiLCJzdWJqZWN0RW51bSIsImVudW0iLCJkaWZmaWN1bHR5RW51bSIsImdlbmVyYXRlUGF5bG9hZFNjaGVtYSIsIm9iamVjdCIsIm5vdGVzIiwicHJlcHJvY2VzcyIsInZhbHVlIiwidHJpbW1lZCIsInRyaW0iLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJzdHJpbmciLCJtYXgiLCJvcHRpb25hbCIsInVybCIsInN1YmplY3QiLCJkaWZmaWN1bHR5IiwicXVlc3Rpb25Db3VudCIsIm51bWJlciIsImludmFsaWRfdHlwZV9lcnJvciIsImludCIsIm1pbiIsImVucmljaEJleW9uZE5vdGVzIiwiYm9vbGVhbiIsImRlZmF1bHQiLCJzdXBlclJlZmluZSIsImRhdGEiLCJjdHgiLCJhZGRJc3N1ZSIsImNvZGUiLCJab2RJc3N1ZUNvZGUiLCJjdXN0b20iLCJtZXNzYWdlIiwicGF0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/validation.ts\n");

/***/ }),

/***/ "(rsc)/./src/types/index.ts":
/*!****************************!*\
  !*** ./src/types/index.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DIFFICULTIES: () => (/* binding */ DIFFICULTIES),\n/* harmony export */   SUBJECTS: () => (/* binding */ SUBJECTS)\n/* harmony export */ });\nconst SUBJECTS = [\n    \"Software Engineering\",\n    \"Chemistry\",\n    \"Biology\",\n    \"Mathematics\",\n    \"General\"\n];\nconst DIFFICULTIES = [\n    \"Mixed\",\n    \"Easy\",\n    \"Medium\",\n    \"Hard\"\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdHlwZXMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBTyxNQUFNQSxXQUFXO0lBQ3RCO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7Q0FDRCxDQUFVO0FBSUosTUFBTUMsZUFBZTtJQUFDO0lBQVM7SUFBUTtJQUFVO0NBQU8sQ0FBVSIsInNvdXJjZXMiOlsid2VicGFjazovL21jcS1nZW5lcmF0b3IvLi9zcmMvdHlwZXMvaW5kZXgudHM/NDQxNyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgU1VCSkVDVFMgPSBbXG4gIFwiU29mdHdhcmUgRW5naW5lZXJpbmdcIixcbiAgXCJDaGVtaXN0cnlcIixcbiAgXCJCaW9sb2d5XCIsXG4gIFwiTWF0aGVtYXRpY3NcIixcbiAgXCJHZW5lcmFsXCIsXG5dIGFzIGNvbnN0O1xuXG5leHBvcnQgdHlwZSBTdWJqZWN0ID0gKHR5cGVvZiBTVUJKRUNUUylbbnVtYmVyXTtcblxuZXhwb3J0IGNvbnN0IERJRkZJQ1VMVElFUyA9IFtcIk1peGVkXCIsIFwiRWFzeVwiLCBcIk1lZGl1bVwiLCBcIkhhcmRcIl0gYXMgY29uc3Q7XG5cbmV4cG9ydCB0eXBlIERpZmZpY3VsdHkgPSAodHlwZW9mIERJRkZJQ1VMVElFUylbbnVtYmVyXTtcblxuZXhwb3J0IHR5cGUgQW5zd2VyT3B0aW9uID0gXCJBXCIgfCBcIkJcIiB8IFwiQ1wiIHwgXCJEXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTUNRT3B0aW9uIHtcbiAgbGFiZWw6IEFuc3dlck9wdGlvbjtcbiAgdGV4dDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1DUVF1ZXN0aW9uIHtcbiAgaWQ6IHN0cmluZztcbiAgcXVlc3Rpb246IHN0cmluZztcbiAgb3B0aW9uczogTUNRT3B0aW9uW107XG4gIGFuc3dlcjogQW5zd2VyT3B0aW9uO1xuICBleHBsYW5hdGlvbjogc3RyaW5nO1xuICBzb3VyY2VTcGFuOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2VuZXJhdGlvblNldHRpbmdzIHtcbiAgc3ViamVjdDogU3ViamVjdDtcbiAgZGlmZmljdWx0eTogRGlmZmljdWx0eTtcbiAgcXVlc3Rpb25Db3VudDogbnVtYmVyO1xuICBlbnJpY2hCZXlvbmROb3RlczogYm9vbGVhbjtcbn1cbiJdLCJuYW1lcyI6WyJTVUJKRUNUUyIsIkRJRkZJQ1VMVElFUyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/types/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/openai","vendor-chunks/zod","vendor-chunks/@mozilla"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=%2FUsers%2Fglover-sanders.ezra%2FDesktop%2Fmcq-generator%20copy%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fglover-sanders.ezra%2FDesktop%2Fmcq-generator%20copy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();